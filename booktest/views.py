"""GET     /books/         提供所有记录POST    /books/         新增一条记录GET     /books/<pk>/    提供指定id的记录PUT     /books/<pk>/    修改指定id的记录DELETE  /books/<pk>/    删除指定id的记录响应数据    JSON# 列表视图: 路由后面没有pk/ID# 详情视图: 路由后面 pk/ID"""from django.views import Viewfrom django.http import HttpResponse, JsonResponsefrom .models import BookInfoclass BookListView(View):    """列表视图"""    def get(self, request):        """查询所有图书接口"""        # 1.查询出所有图书模型        books = BookInfo.objects.all()        # 2.遍历查询集,取出里面的每个书籍模型对象,把模型对象转换成字典        # 定义一个列表变量用来保存所个字典        book_list = []        for book in books:            book_dict = {                'btitle': book.btitle,                'bpub_date': book.bpub_date,                'bread': book.bread,                'bcomment': book.bcomment,                'image': book.image.url if book.image else ''  # None.url            }            book_list.append(book_dict)  # 将转换好的字典添加到列表中        # 3.响应        return JsonResponse(book_list, safe=False)    def post(self, request):        """新增图书接口"""        passclass BookDetailView(View):    """详情视图"""    def get(self, request, pk):        """查询指定某个图书接口"""        pass    def put(self, request, pk):        """修改指定图书接口"""        pass    def delete(self, request, pk):        """删除指定图书接口"""        pass